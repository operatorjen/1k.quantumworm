(()=>{var h=Math.random,e=a,w=e.getContext`2d`,l=e.cloneNode(),i=l.getContext`2d`,s=new Array(300),x=[],y,o=0;e.width=l.width=innerWidth;e.height=l.height=innerHeight;e.style="filter:saturate(1.5)";e.onpointerdown=n=>{mx=n.clientX,my=n.clientY,o=180};for(y=300;y--;){let n=h()*e.width,t=h()*e.height;s[y]={i:y,x:n,y:t,vx:0,vy:0,a:h()*e.width*.02,r:e.height*.04+24*h(),h:140+50*h()}}onresize=()=>e.width=l.width=innerWidth,e.height=l.height=innerHeight;onresize();(function n(){for(i.fillStyle="rgba(43,99,54,.01)",i.fillRect(0,0,l.width,l.height),y=x.length;y--;){let t=x[y];t.vy+=.01,t.y+=t.vy,t.a-=.01,t.a<=0||t.y>l.height?x.splice(y,1):(i.fillStyle="hsla("+t.h+",60%,40%,"+t.a+")",i.beginPath(),i.arc(t.x,t.y,t.r,0,7),i.fill())}for(let t of s){if(h()<.1&&x.push({x:t.x,y:t.y+t.r,vy:1+2*h(),r:1+2*h(),a:1,h:340+30*h()}),t.i){let r=s[t.i-1],d=r.x-t.x,f=r.y-t.y;t.vx=(t.vx+d*.1)*.5,t.vy=(t.vy+f*.5)*.5}else if(o){let r=mx-t.x,d=my-t.y,f=Math.atan2(d,r);t.a+=(f-t.a)*.3,t.vx=Math.cos(t.a)*9.5,t.vy=Math.sin(t.a)*9.5,r*r+d*d<100?o=0:o--}else t.a+=(h()-.5)*.6,t.vx=Math.cos(t.a)*7.5,t.vy=Math.sin(t.a)*7.5;t.x+=t.vx*.3,t.y+=t.vy*.3,t.x<0?t.x=e.width:t.x>e.width&&(t.x=0),t.y<0?t.y=e.height:t.y>e.height&&(t.y=0);let v=.1+.4*(1-t.i/299),c=t.h,g=i.createRadialGradient(t.x,t.y,t.r*.2,t.x,t.y,t.r);g.addColorStop(0,"hsla("+c+",80%,70%,"+v+")"),g.addColorStop(1,"hsla("+(c+170)%360+",70%,50%,"+v+")"),i.fillStyle=g,i.beginPath(),i.arc(t.x,t.y,t.r,0,7),i.fill()}w.drawImage(l,0,0),requestAnimationFrame(n)})();})();
